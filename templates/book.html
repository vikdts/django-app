{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8 form">
    {% if user.is_authenticated %}
      <form method="post" action="{% url 'create_booking' %}" class="row g-3 p-lg-5 p-4 bg-white theme-shadow">
        {% csrf_token %}
        {% if form.errors %}
        <div class="alert alert-danger" role="alert">
          <strong></strong>
          <ul>
            {% for field, errors in form.errors.items %}
              {% for error in errors %}
                <li>{{ error }}</li>
              {% endfor %}
            {% endfor %}
        {% endif %}
        <div class="form-group col-lg-12">
          <input type="text" name="{{ form.name.html_name }}" id="{{ form.name.id_for_label }}" class="form-control" placeholder="{{ form.name.label }}">
        </div>
        <div class="form-group col-lg-6">
          <input type="email" name="{{ form.email_address.html_name }}" id="{{ form.email_address.id_for_label }}" class="form-control" placeholder="{{ form.email_address.label }}">
        </div>
        <div class="form-group col-lg-6">
          <input type="text" name="{{ form.phone.html_name }}" id="{{ form.phone.id_for_label }}" class="form-control" placeholder="{{ form.phone.label }}">
        </div>
        <div class="form-group col-lg-4">
          <input type="date" name="{{ form.date.html_name }}" id="{{ form.date.id_for_label }}" class="form-control" placeholder="{{ form.date.label }}">
        </div>
        <div class="form-group col-lg-4">
            <input type="number" name="{{ form.num_guests.html_name }}" id="{{ form.num_guests.id_for_label }}" class="form-control" placeholder="{{ form.num_guests.label }}">
        </div>        
        <div class="form-group col-lg-4">
          <select name="{{ form.time.html_name }}" id="{{ form.time.id_for_label }}" class="form-select" placeholder="{{ form.time.label }}">
            {% for choice in form.time.field.choices %}
              <option value="{{ choice.0 }}">{{ choice.1 }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group col-lg-12">
          <textarea name="{{ form.note.html_name }}" id="{{ form.note.id_for_label }}" rows="5" class="form-control" placeholder="{{ form.note.label }}"></textarea>
        </div>
        <div class="form-group col-lg-12 d-grid">
          <button type="submit" class="btn btn-brand">SUBMIT</button>
        </div>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}

